<?xml version="1.0" encoding="UTF-8"?>
<!-- ====================================================================== 
     23 mai 2011 10:47:55                                                        

     Vxml interpreter    
     
                   
     sdiawara                                                                
     ====================================================================== -->
<project name="VxmlInterpreter" default="compile">

	<property name="src.dir" location="src" />
	<property name="build.dir" location="build" />
	<property name="deploy.dir" location="deploy" />
	<property name="test.dir" location="test" />
	<property name="bin.dir" location="bin" />
	<property name="test.report.dir" location="testreport" />

	<path id="mainpath">
		<fileset dir="lib">
			<include name="**/*.jar" />
		</fileset>
	</path>

	<path id="junit.class.path">
		<path refid="mainpath" />
		<pathelement location="lib/junit.jar" />
		<pathelement location="${build.dir}" />
	</path>

	<target name="clean">
		<delete dir="${build.dir}" />
		<delete dir="${test.report.dir}" />
		<delete dir="${deploy.dir}" />
	</target>


	<target name="makedir">
		<mkdir dir="${build.dir}" />
		<mkdir dir="${test.report.dir}" />
		<mkdir dir="${deploy.dir}" />
	</target>

	<target name="compile" depends="clean,  makedir">
		<javac srcdir="${src.dir}" destdir="${build.dir}" classpathref="mainpath" debug="on" optimize="off" deprecation="on" includeantruntime="false">
		</javac>
	</target>

	<target name="makejar" depends="compile">
		<jar jarfile="${deploy.dir}\mbs-vxml-interpreter.jar" basedir="${bin.dir}" />
	</target>

	<!-- ================================= 
          target: junit.test
          FIXME: error in target              
         ================================= -->

	<target name="junit.test" depends="compile">
		<junit printsummary="yes" haltonfailure="yes">
			<classpath refid="junit.class.path" />
			<formatter type="xml" />
			<batchtest todir="${test.report.dir}">
				<fileset dir="${test.dir}">
					<include name="**/*.java" />
				</fileset>
			</batchtest> 
		</junit>
	</target>

</project>
